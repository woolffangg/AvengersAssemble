</div>


<!-- Slide : Diagramme de s√©quence MVC -->
<!-- Slide : Conception Orient√©e Objet (POO) -->
<div class="slide print-break">
  <div class="slide-number">Annexe</div>
  <h1>Conception Orient√©e Objet (POO)</h1>
  <div class="two-column">
    <div>
      <h2>üß© Principes de la POO</h2>
      <ul>
        <li><b>Classe :</b> Mod√®le pour cr√©er des objets (ex : <code>User</code>, <code>Salon</code>, <code>Message</code>).</li>
        <li><b>Objet :</b> Instance concr√®te d'une classe (ex : un utilisateur connect√©).</li>
        <li><b>Encapsulation :</b> Les donn√©es et m√©thodes sont regroup√©es dans la classe, prot√©g√©es de l'ext√©rieur.</li>
        <li><b>H√©ritage :</b> Permet de cr√©er des classes sp√©cialis√©es √† partir de classes g√©n√©riques.</li>
        <li><b>Polymorphisme :</b> Une m√™me m√©thode peut se comporter diff√©remment selon la classe.</li>
      </ul>
      <h3>Exemple de classe</h3>
      <div class="code-block">
// Exemple r√©el : Classe Salon (model/Salon.php)
class Salon {
    private $pkS;
    private $nom;
    private $topic;
    private $fkU_proprio;
    private $prive;
    private $visibilite;

    public function __construct($pkS = null, $nom = null, $topic = '', $fkU_proprio = null, $prive = 0, $visibilite = 1) {
        $this->pkS = $pkS;
        $this->nom = $nom;
        $this->topic = $topic;
        $this->fkU_proprio = $fkU_proprio;
        $this->prive = $prive;
        $this->visibilite = $visibilite;
    }
    // Getters & Setters
    public function getNom() { return $this->nom; }
    public function setNom($nom) { $this->nom = $nom; }
    // ...
    // M√©thodes m√©tier
    public function canUserAccess($userId) { /* ... */ }
    public function addMember($userId) { /* ... */ }
    public function save() { /* ... */ }
    // ...
}
      </div>
      <div class="highlight" style="margin-top:10px">
        <b>√Ä dire √† l'oral :</b><br>
        ¬´ La classe <code>Salon</code> mod√©lise un salon de discussion‚ÄØ: elle regroupe les donn√©es (nom, propri√©taire, visibilit√©‚Ä¶) et les m√©thodes pour g√©rer l'acc√®s, l'ajout de membres, la sauvegarde, etc. <br>
        Cela illustre l'encapsulation‚ÄØ: toute la logique li√©e √† un salon est centralis√©e dans cette classe. ¬ª
      </div>
    </div>
    <div>
      <h2>üîÑ S√©quence d'appel objet</h2>
      <ol>
        <li>Le contr√¥leur cr√©e ou utilise un objet (ex : <code>User</code>).</li>
        <li>Appelle une m√©thode (ex : <code>User::findByLogin()</code>).</li>
        <li>L'objet g√®re l'acc√®s √† ses donn√©es et √† la base.</li>
        <li>Le r√©sultat est renvoy√© sous forme d'objet ou de tableau associatif.</li>
      </ol>
      <h3>Avantages de la POO</h3>
      <ul>
        <li>Code plus lisible et structur√©</li>
        <li>R√©utilisation et extension facile</li>
        <li>Maintenance et √©volutivit√© am√©lior√©es</li>
        <li>Tests unitaires facilit√©s</li>
      </ul>
    </div>
  </div>
</div>
<div class="slide print-break">
  <div class="slide-number">Annexe</div>
  <h1>Diagramme de S√©quence : Cha√Æne d'appel MVC</h1>
  <div style="display: flex; flex-direction: column; align-items: center;">
    <svg width="800" height="320" style="background:#f9f9f9;border:1px solid #ccc;margin-bottom:10px">
      <!-- Acteurs -->
      <text x="80" y="40" font-size="16" text-anchor="middle" fill="#1976d2">index.php</text>
      <text x="240" y="40" font-size="16" text-anchor="middle" fill="#388e3c">Contr√¥leur</text>
      <text x="400" y="40" font-size="16" text-anchor="middle" fill="#fbc02d">Service</text>
      <text x="560" y="40" font-size="16" text-anchor="middle" fill="#c2185b">DAO</text>
      <text x="720" y="40" font-size="16" text-anchor="middle" fill="#6d4c41">Base de donn√©es</text>

      <!-- Lignes de vie -->
      <line x1="80" y1="50" x2="80" y2="270" stroke="#bbb" stroke-dasharray="4"/>
      <line x1="240" y1="50" x2="240" y2="270" stroke="#bbb" stroke-dasharray="4"/>
      <line x1="400" y1="50" x2="400" y2="270" stroke="#bbb" stroke-dasharray="4"/>
      <line x1="560" y1="50" x2="560" y2="270" stroke="#bbb" stroke-dasharray="4"/>
      <line x1="720" y1="50" x2="720" y2="270" stroke="#bbb" stroke-dasharray="4"/>

      <!-- Appels -->
      <polygon points="80,80 240,80 235,85 240,90 80,90 85,85" fill="#1976d2"/>
      <text x="160" y="75" font-size="13" text-anchor="middle" fill="#1976d2">1. Appel action</text>

      <polygon points="240,110 400,110 395,115 400,120 240,120 245,115" fill="#388e3c"/>
      <text x="320" y="105" font-size="13" text-anchor="middle" fill="#388e3c">2. Appel service</text>

      <polygon points="400,140 560,140 555,145 560,150 400,150 405,145" fill="#fbc02d"/>
      <text x="480" y="135" font-size="13" text-anchor="middle" fill="#fbc02d">3. Appel DAO</text>

      <polygon points="560,170 720,170 715,175 720,180 560,180 565,175" fill="#c2185b"/>
      <text x="640" y="165" font-size="13" text-anchor="middle" fill="#c2185b">4. Requ√™te SQL</text>

      <!-- R√©ponses -->
      <polygon points="720,200 560,200 565,205 560,210 720,210 715,205" fill="#c2185b" opacity="0.5"/>
      <text x="640" y="195" font-size="13" text-anchor="middle" fill="#c2185b">R√©sultat</text>

      <polygon points="560,230 400,230 405,235 400,240 560,240 555,235" fill="#fbc02d" opacity="0.5"/>
      <text x="480" y="225" font-size="13" text-anchor="middle" fill="#fbc02d">Retour DAO</text>

      <polygon points="400,260 240,260 245,265 240,270 400,270 395,265" fill="#388e3c" opacity="0.5"/>
      <text x="320" y="255" font-size="13" text-anchor="middle" fill="#388e3c">Retour service</text>

      <polygon points="240,290 80,290 85,295 80,300 240,300 235,295" fill="#1976d2" opacity="0.5"/>
      <text x="160" y="285" font-size="13" text-anchor="middle" fill="#1976d2">Retour contr√¥leur</text>
    </svg>
    <ol style="max-width:800px;text-align:left">
      <li><b>index.php</b> re√ßoit la requ√™te et appelle la m√©thode du contr√¥leur.</li>
      <li>Le <b>contr√¥leur</b> appelle la m√©thode du <b>service</b> correspondant.</li>
      <li>Le <b>service</b> appelle la m√©thode de la <b>DAO</b> (Data Access Object).</li>
      <li>La <b>DAO</b> ex√©cute la requ√™te SQL sur la <b>base de donn√©es</b> et retourne le r√©sultat.</li>
      <li>Chaque couche retourne la r√©ponse √† la couche pr√©c√©dente jusqu'√† index.php.</li>
    </ol>
  </div>
</div>
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pr√©sentation - Application de Chat Web en Temps R√©el</title>
    <style>
        :root {
            --primary-color: #007bff;
            --secondary-color: #6c757d;
            --success-color: #28a745;
            --danger-color: #dc3545;
            --dark-color: #343a40;
            --light-color: #f8f9fa;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--dark-color);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .presentation-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .slide {
            background: white;
            margin: 40px 0;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            min-height: 80vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .slide h1 {
            color: var(--primary-color);
            font-size: 2.5em;
            margin-bottom: 30px;
            text-align: center;
            border-bottom: 3px solid var(--primary-color);
            padding-bottom: 20px;
        }

        .slide h2 {
            color: var(--primary-color);
            font-size: 2em;
            margin-bottom: 25px;
            border-left: 5px solid var(--primary-color);
            padding-left: 20px;
        }

        .slide h3 {
            color: var(--secondary-color);
            font-size: 1.5em;
            margin-bottom: 20px;
            margin-top: 30px;
        }

        .slide p, .slide li {
            font-size: 1.2em;
            margin-bottom: 15px;
            line-height: 1.8;
        }

        .slide ul {
            margin-left: 30px;
            margin-bottom: 25px;
        }

        .slide li {
            margin-bottom: 10px;
        }

        .highlight {
            background: linear-gradient(120deg, #a8edea 0%, #fed6e3 100%);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid var(--primary-color);
        }

        .code-block {
            background: #f4f4f4;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            overflow-x: auto;
        }

        .two-column {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            align-items: start;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin: 30px 0;
        }

        .feature-card {
            background: var(--light-color);
            padding: 25px;
            border-radius: 10px;
            border-left: 5px solid var(--success-color);
            transition: transform 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .tech-stack {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin: 30px 0;
        }

        .tech-badge {
            background: var(--primary-color);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: bold;
            font-size: 0.9em;
        }

        .schema-box {
            background: #f8f9fa;
            border: 2px solid var(--primary-color);
            border-radius: 10px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
        }

        .slide-number {
            position: absolute;
            top: 20px;
            right: 30px;
            background: var(--primary-color);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9em;
        }

        .timeline {
            position: relative;
            margin: 30px 0;
        }

        .timeline-item {
            background: var(--light-color);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid var(--primary-color);
            position: relative;
        }

        .demo-section {
            background: linear-gradient(45deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            text-align: center;
        }

        .conclusion-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .conclusion-card {
            background: var(--success-color);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
        }

        @media (max-width: 768px) {
            .slide {
                padding: 20px;
                min-height: auto;
            }
            
            .slide h1 {
                font-size: 2em;
            }
            
            .slide h2 {
                font-size: 1.5em;
            }
            
            .two-column {
                grid-template-columns: 1fr;
            }
        }

        .print-break {
            page-break-after: always;
        }
    </style>
</head>
<body>
    <div class="presentation-container">
        
        <!-- Slide 1: Page de titre -->
        <div class="slide print-break">
            <div class="slide-number">1/12</div>
            <div style="text-align: center; padding: 60px 0;">
                <h1 style="font-size: 3.5em; margin-bottom: 40px;">Application de Chat Web en Temps R√©el</h1>
                <div class="highlight">
                    <h2 style="border: none; padding: 0; margin: 20px 0;">Projet AvengersAssemble</h2>
                    <p style="font-size: 1.4em; margin: 30px 0;">Une application de messagerie instantan√©e moderne avec gestion des salons et communication en temps r√©el</p>
                </div>
</div>

<!-- Slide : Sch√©ma affichage des nouveaux messages (SSE + DOM) -->
<div class="slide print-break">
  <div class="slide-number">Annexe</div>
  <h1>Sch√©ma : Affichage des nouveaux messages (SSE & DOM)</h1>
  <div style="display: flex; flex-direction: column; align-items: center;">
    <svg width="700" height="320" style="background:#f9f9f9;border:1px solid #ccc;margin-bottom:10px">
      <!-- Client (navigateur) -->
      <rect x="40" y="40" width="180" height="60" fill="#e3f2fd" stroke="#1976d2" stroke-width="2" rx="10"/>
      <text x="130" y="70" font-size="16" text-anchor="middle" fill="#1976d2">Navigateur</text>
      <text x="130" y="90" font-size="13" text-anchor="middle" fill="#1976d2">script.js</text>

      <!-- DOM -->
      <rect x="40" y="130" width="180" height="60" fill="#fffde7" stroke="#fbc02d" stroke-width="2" rx="10"/>
      <text x="130" y="160" font-size="16" text-anchor="middle" fill="#fbc02d">DOM (chat-box)</text>

      <!-- Serveur PHP -->
      <rect x="480" y="40" width="180" height="60" fill="#e8f5e9" stroke="#388e3c" stroke-width="2" rx="10"/>
      <text x="570" y="70" font-size="16" text-anchor="middle" fill="#388e3c">Serveur PHP</text>
      <text x="570" y="90" font-size="13" text-anchor="middle" fill="#388e3c">MessageController.php</text>

      <!-- Base de donn√©es -->
      <rect x="480" y="130" width="180" height="60" fill="#fce4ec" stroke="#c2185b" stroke-width="2" rx="10"/>
      <text x="570" y="160" font-size="16" text-anchor="middle" fill="#c2185b">Base de donn√©es</text>
      <text x="570" y="180" font-size="13" text-anchor="middle" fill="#c2185b">messages</text>

      <!-- Fl√®ches -->
      <!-- 1. script.js ouvre la connexion SSE -->
      <line x1="220" y1="70" x2="480" y2="70" stroke="#1976d2" stroke-width="2" marker-end="url(#arrow)"/>
      <text x="350" y="60" font-size="13" text-anchor="middle" fill="#1976d2">1. Connexion SSE</text>

      <!-- 2. Serveur v√©rifie nouveaux messages -->
      <line x1="570" y1="100" x2="570" y2="130" stroke="#388e3c" stroke-width="2" marker-end="url(#arrow)"/>
      <text x="380" y="120" font-size="13" fill="#388e3c">2. V√©rifie nouveaux messages</text>

      <!-- 3. Serveur envoie messages SSE -->
      <line x1="480" y1="160" x2="220" y2="160" stroke="#388e3c" stroke-width="2" marker-end="url(#arrow)"/>
      <text x="350" y="150" font-size="13" text-anchor="middle" fill="#388e3c">3. Envoie messages SSE (JSON)</text>

      <!-- 4. script.js ajoute √† la DOM -->
      <line x1="130" y1="100" x2="130" y2="130" stroke="#fbc02d" stroke-width="2" marker-end="url(#arrow)"/>
      <text x="150" y="120" font-size="13" fill="#fbc02d">4. appendMessage()</text>
    
      <!-- Arrow marker definition -->
      <defs>
        <marker id="arrow" markerWidth="10" markerHeight="10" refX="10" refY="5" orient="auto" markerUnits="strokeWidth">
          <path d="M0,0 L10,5 L0,10 L2,5 z" fill="#888" />
        </marker>
      </defs>
    </svg>
    <ol style="max-width:700px;text-align:left">
      <li><b>script.js</b> ouvre une connexion SSE vers le serveur PHP.</li>
      <li>Le <b>serveur</b> v√©rifie s‚Äôil y a de nouveaux messages dans la base.</li>
      <li>Si oui, il envoie les messages au format SSE (JSON) au client.</li>
      <li><b>script.js</b> re√ßoit les messages et les affiche dans la <b>DOM</b> (chat-box) gr√¢ce √† <code>appendMessage()</code>.</li>
    </ol>
  </div>
</div>
                <div style="margin-top: 50px;">
                    <p><strong>Technologies :</strong> PHP 8.3, MySQL, JavaScript ES6, Server-Sent Events</p>
                    <p><strong>Architecture :</strong> MVC avec couche service</p>
                    <p><strong>Date :</strong> Juillet 2025</p>
                </div>
            </div>
        </div>

        <!-- Slide 2: Sommaire -->
        <div class="slide print-break">
            <div class="slide-number">2/12</div>
            <h1>Plan de la Pr√©sentation</h1>
            <div class="two-column">
                <div>
                    <h3>üéØ Introduction (5 min)</h3>
                    <ul>
                        <li>Contexte et objectifs</li>
                        <li>Vue d'ensemble</li>
                        <li>Technologies choisies</li>
                    </ul>
                    
                    <h3>üèóÔ∏è Architecture (8 min)</h3>
                    <ul>
                        <li>Structure MVC</li>
                        <li>Base de donn√©es</li>
                        <li>Couche service</li>
                    </ul>
                    
                    <h3>‚öôÔ∏è Fonctionnalit√©s (7 min)</h3>
                    <ul>
                        <li>Gestion des utilisateurs</li>
                        <li>Syst√®me de salons</li>
                        <li>Chat temps r√©el</li>
                    </ul>
                </div>
                <div>
                    <h3>üîß Aspects techniques (8 min)</h3>
                    <ul>
                        <li>Server-Sent Events</li>
                        <li>S√©curit√©</li>
                        <li>Performance</li>
                    </ul>
                    
                    <h3>üì± D√©monstration (2 min)</h3>
                    <ul>
                        <li>Interface utilisateur</li>
                        <li>Fonctionnalit√©s en action</li>
                    </ul>
                    
                    <h3>üéØ Conclusion (2 min)</h3>
                    <ul>
                        <li>Bilan du projet</li>
                        <li>Am√©liorations futures</li>
                        <li>Questions/R√©ponses</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Slide 3: Introduction - Contexte et objectifs -->
        <div class="slide print-break">
            <div class="slide-number">3/12</div>
            <h1>Introduction : Contexte et Objectifs</h1>
            
            <div class="highlight">
                <h2>üéØ Objectif Principal</h2>
                <p>D√©velopper une application de chat web moderne permettant la communication instantan√©e entre utilisateurs dans des salons th√©matiques.</p>
            </div>

            <h2>üìã Cahier des Charges</h2>
            <div class="feature-grid">
                <div class="feature-card">
                    <h3>üë• Gestion Utilisateurs</h3>
                    <ul>
                        <li>Inscription et connexion s√©curis√©es</li>
                        <li>Syst√®me de r√¥les (Membre/Admin)</li>
                        <li>Gestion des sessions</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h3>üè† Syst√®me de Salons</h3>
                    <ul>
                        <li>Salons publics et priv√©s</li>
                        <li>Propri√©taires et membres</li>
                        <li>Mod√©ration et invitations</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h3>üí¨ Chat Temps R√©el</h3>
                    <ul>
                        <li>Messages instantan√©s</li>
                        <li>Historique persistant</li>
                        <li>Interface intuitive</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h3>üîß Administration</h3>
                    <ul>
                        <li>Panneau d'administration</li>
                        <li>Gestion des salons</li>
                        <li>Mod√©ration globale</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Slide 4: Technologies et Stack Technique -->
        <div class="slide print-break">
            <div class="slide-number">4/12</div>
            <h1>Stack Technique et Choix Technologiques</h1>
            
            <h2>üõ†Ô∏è Technologies Utilis√©es</h2>
            <div class="tech-stack">
                <div class="tech-badge">PHP 8.3</div>
                <div class="tech-badge">MySQL 9.1</div>
                <div class="tech-badge">JavaScript ES6</div>
                <div class="tech-badge">Server-Sent Events</div>
                <div class="tech-badge">CSS3</div>
                <div class="tech-badge">HTML5</div>
                <div class="tech-badge">PDO</div>
                <div class="tech-badge">Apache/WAMP</div>
            </div>

            <div class="two-column">
                <div>
                    <h3>üí° Justification des Choix</h3>
                    <ul>
                        <li><strong>PHP 8.3 :</strong> Performance optimis√©e, syntaxe moderne (arrow functions, match expressions)</li>
                        <li><strong>MySQL :</strong> Robustesse, relations complexes, transactions ACID</li>
                        <li><strong>Server-Sent Events :</strong> Temps r√©el simple, uniDirectionnel suffisant</li>
                        <li><strong>Architecture MVC :</strong> S√©paration des responsabilit√©s, maintenabilit√©</li>
                    </ul>
                </div>
                <div>
                    <h3>üèóÔ∏è Architecture Globale</h3>
                    <div class="schema-box">
                        <p><strong>Frontend</strong></p>
                        <p>HTML5 + CSS3 + JavaScript</p>
                        <p>‚¨áÔ∏è</p>
                        <p><strong>Backend MVC</strong></p>
                        <p>Controllers ‚Üí Services ‚Üí Models</p>
                        <p>‚¨áÔ∏è</p>
                        <p><strong>Base de Donn√©es</strong></p>
                        <p>MySQL avec PDO</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 5: Architecture MVC D√©taill√©e -->
        <div class="slide print-break">
            <div class="slide-number">5/12</div>
            <h1>Architecture MVC et Structure du Projet</h1>
            
            <div class="two-column">
                <div>
                    <h2>üìÅ Structure des Dossiers</h2>
                    <div class="code-block">
chatweb/
‚îú‚îÄ‚îÄ controller/
‚îÇ   ‚îú‚îÄ‚îÄ MessageController.php
‚îÇ   ‚îú‚îÄ‚îÄ SalonController.php
‚îÇ   ‚îî‚îÄ‚îÄ UserController.php
‚îú‚îÄ‚îÄ model/
‚îÇ   ‚îú‚îÄ‚îÄ DB.php
‚îÇ   ‚îú‚îÄ‚îÄ Message.php
‚îÇ   ‚îú‚îÄ‚îÄ Salon.php
‚îÇ   ‚îî‚îÄ‚îÄ User.php
‚îú‚îÄ‚îÄ service/
‚îÇ   ‚îú‚îÄ‚îÄ SalonService.php
‚îÇ   ‚îî‚îÄ‚îÄ UserService.php
‚îú‚îÄ‚îÄ view/
‚îÇ   ‚îú‚îÄ‚îÄ chat.php
‚îÇ   ‚îú‚îÄ‚îÄ login.php
‚îÇ   ‚îú‚îÄ‚îÄ salons.php
‚îÇ   ‚îî‚îÄ‚îÄ partials/
‚îî‚îÄ‚îÄ public/
    ‚îú‚îÄ‚îÄ index.php
    ‚îú‚îÄ‚îÄ sse.php
    ‚îú‚îÄ‚îÄ script.js
    ‚îî‚îÄ‚îÄ css/
                    </div>
                </div>
                <div>
                    <h2>üîÑ Flux de Donn√©es MVC</h2>
                    <div class="timeline">
                        <div class="timeline-item">
                            <h4>1. Requ√™te HTTP</h4>
                            <p>L'utilisateur acc√®de √† index.php avec une action sp√©cifique</p>
                        </div>
                        <div class="timeline-item">
                            <h4>2. Routage</h4>
                            <p>Le contr√¥leur appropri√© est instanci√© selon l'action</p>
                        </div>
                        <div class="timeline-item">
                            <h4>3. Logique M√©tier</h4>
                            <p>Les services traitent la logique complexe</p>
                        </div>
                        <div class="timeline-item">
                            <h4>4. Acc√®s Donn√©es</h4>
                            <p>Les mod√®les interagissent avec la base de donn√©es</p>
                        </div>
                        <div class="timeline-item">
                            <h4>5. Rendu Vue</h4>
                            <p>La vue appropri √©e est incluse avec les donn√©es</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 6: Base de Donn√©es -->
        <div class="slide print-break">
            <div class="slide-number">6/12</div>
            <h1>Mod√®le de Donn√©es et Base de Donn√©es</h1>
            
            <h2>üóÉÔ∏è Schema Relationnel</h2>
            <div class="schema-box">
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; text-align: left;">
                    <div>
                        <h4>üìã UTILISATEUR</h4>
                        <ul style="font-size: 0.9em;">
                            <li>pkU (PK)</li>
                            <li>fkRole (FK)</li>
                            <li>pseudo</li>
                            <li>login (UNIQUE)</li>
                            <li>mdp (hashed)</li>
                            <li>email (UNIQUE)</li>
                        </ul>
                    </div>
                    <div>
                        <h4>üè† SALON</h4>
                        <ul style="font-size: 0.9em;">
                            <li>pkS (PK)</li>
                            <li>fkU_proprio (FK)</li>
                            <li>nom</li>
                            <li>visibilite</li>
                            <li>prive</li>
                            <li>topic</li>
                        </ul>
                    </div>
                    <div>
                        <h4>üí¨ MESSAGE</h4>
                        <ul style="font-size: 0.9em;">
                            <li>pkMsg (PK)</li>
                            <li>fkU (FK)</li>
                            <li>fkS (FK)</li>
                            <li>message</li>
                            <li>timestamp</li>
                        </ul>
                    </div>
                    <div>
                        <h4>üë• MEMBRE</h4>
                        <ul style="font-size: 0.9em;">
                            <li>fkU (PK, FK)</li>
                            <li>fkS (PK, FK)</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="two-column">
                <div>
                    <h3>üîó Relations Principales</h3>
                    <ul>
                        <li><strong>1:N</strong> - Un utilisateur peut cr√©er plusieurs salons</li>
                        <li><strong>N:M</strong> - Un utilisateur peut appartenir √† plusieurs salons</li>
                        <li><strong>1:N</strong> - Un salon contient plusieurs messages</li>
                        <li><strong>1:N</strong> - Un utilisateur peut envoyer plusieurs messages</li>
                    </ul>
                </div>
                <div>
                    <h3>üõ°Ô∏è Contraintes et S√©curit√©</h3>
                    <ul>
                        <li>Cl√©s primaires et √©trang√®res</li>
                        <li>Contraintes d'unicit√© (login, email)</li>
                        <li>Moteur MyISAM pour la performance</li>
                        <li>Encodage UTF-8 pour l'international</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Slide 7: Gestion des Utilisateurs et Authentification -->
        <div class="slide print-break">
            <div class="slide-number">7/12</div>
            <h1>Gestion des Utilisateurs et Authentification</h1>
            
            <div class="two-column">
                <div>
                    <h2>üîê Syst√®me d'Authentification</h2>
                    <div class="feature-card">
                        <h4>Inscription S√©curis√©e</h4>
                        <ul>
                            <li>Validation des donn√©es c√¥t√© serveur</li>
                            <li>Hachage des mots de passe (bcrypt)</li>
                            <li>V√©rification d'unicit√© login/email</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card">
                        <h4>Connexion Robuste</h4>
                        <ul>
                            <li>V√©rification des identifiants</li>
                            <li>Gestion des sessions PHP</li>
                            <li>Redirection intelligente</li>
                        </ul>
                    </div>
                </div>
                <div>
                    <h2>üëë Syst√®me de R√¥les</h2>
                    <div class="highlight">
                        <h4>üßë‚Äçüíº R√¥le Admin (fkRole = 2)</h4>
                        <ul>
                            <li>Panneau d'administration global</li>
                            <li>Suppression de salons</li>
                            <li>Modification de topics</li>
                            <li>Changement de propri√©taires</li>
                            <li>Acc√®s √† tous les salons</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card">
                        <h4>üë§ R√¥le Membre (fkRole = 1)</h4>
                        <ul>
                            <li>Cr√©ation de salons personnels</li>
                            <li>Gestion des salons cr√©√©s</li>
                            <li>Participation aux discussions</li>
                        </ul>
                    </div>
                </div>
            </div>

            <h3>üîí Code d'Authentification</h3>
            <div class="code-block">
// UserService.php - M√©thode de connexion
public static function login($login, $mdp) {
    $user = User::findByLogin($login);
    if ($user && password_verify($mdp, $user['mdp'])) {
        return $user;
    }
    return null;
}

// Hachage s√©curis√© lors de l'inscription
password_hash($mdp, PASSWORD_DEFAULT)
            </div>
        </div>

        <!-- Slide 8: Syst√®me de Salons -->
        <div class="slide print-break">
            <div class="slide-number">8/12</div>
            <h1>Syst√®me de Salons et Gestion des Droits</h1>
            
            <h2>üè† Types de Salons</h2>
            <div class="feature-grid">
                <div class="feature-card">
                    <h3>üåê Salons Publics</h3>
                    <ul>
                        <li>Visibles par tous les utilisateurs</li>
                        <li>Acc√®s libre sans invitation</li>
                        <li>Id√©al pour les discussions g√©n√©rales</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h3>üîí Salons Priv√©s</h3>
                    <ul>
                        <li>Acc√®s sur invitation uniquement</li>
                        <li>Contr√¥le total du propri√©taire</li>
                        <li>Discussions confidentielles</li>
                    </ul>
                </div>
            </div>

            <div class="two-column">
                <div>
                    <h3>üëë Droits du Propri√©taire</h3>
                    <ul>
                        <li><strong>Inviter des membres</strong> dans les salons priv√©s</li>
                        <li><strong>Exclure des membres</strong> d√©rangeants</li>
                        <li><strong>Changer la visibilit√©</strong> public ‚Üî priv√©</li>
                        <li><strong>G√©rer le topic</strong> et les param√®tres</li>
                    </ul>
                    
                    <h3>üë§ Droits des Membres</h3>
                    <ul>
                        <li>Participation aux discussions</li>
                        <li>Consultation de l'historique</li>
                        <li>Quitter le salon √† tout moment</li>
                    </ul>
                </div>
                <div>
                    <h3>‚öôÔ∏è Fonctionnalit√©s Avanc√©es</h3>
                    <div class="code-block">
// Invitation automatique du propri√©taire
if ($id) {
    SalonService::addMember($id, 
        $_SESSION['user']['pkU']);
}

// V√©rification d'appartenance
$stmt = $db->prepare(
    'SELECT 1 FROM membre 
     WHERE fkU = ? AND fkS = ?'
);

// Exclusion s√©curis√©e
if ($salon['fkU_proprio'] == 
    $_SESSION['user']['pkU']) {
    SalonService::removeMember(
        $salonId, $userId);
}
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 9: Chat Temps R√©el avec SSE -->
        <div class="slide print-break">
            <div class="slide-number">9/12</div>
            <h1>Communication Temps R√©el : Server-Sent Events</h1>
            
            <h2>‚ö° Pourquoi Server-Sent Events ?</h2>
            <div class="two-column">
                <div>
                    <div class="highlight">
                        <h4>‚úÖ Avantages des SSE</h4>
                        <ul>
                            <li>Plus simple que WebSockets</li>
                            <li>Reconnexion automatique</li>
                            <li>Support natif des navigateurs</li>
                            <li>Parfait pour flux unidirectionnel</li>
                            <li>Gestion native des ID d'√©v√©nements</li>
                        </ul>
                    </div>
                </div>
                <div>
                    <div class="feature-card">
                        <h4>üîÑ Flux de Donn√©es</h4>
                        <ul>
                            <li>Client ‚Üí POST nouveau message</li>
                            <li>Serveur ‚Üí Stockage en BDD</li>
                            <li>SSE ‚Üí Diffusion aux clients</li>
                            <li>JavaScript ‚Üí Affichage temps r√©el</li>
                        </ul>
                    </div>
                </div>
            </div>

            <h3>üíª Impl√©mentation C√¥t√© Serveur</h3>
            <div class="code-block">
// MessageController.php - Stream SSE
header('Content-Type: text/event-stream');
header('Cache-Control: no-cache');

$messages = Message::getLastMessages($salonId);
$newMessages = array_filter(
    $messages,
    fn($msg) => $msg['pkMsg'] > $lastMessageId
);

foreach ($newMessages as $msg) {
    echo "id: {$msg['pkMsg']}\n";
    echo 'data: ' . json_encode([
        'pkMsg' => $msg['pkMsg'],
        'pseudo' => $msg['pseudo'],
        'message' => $msg['message'],
        'timestamp' => $msg['timestamp']
    ]) . "\n\n";
}
            </div>

            <h3>üåê Impl√©mentation C√¥t√© Client</h3>
            <div class="code-block">
// script.js - Connexion SSE
const evtSource = new EventSource(
    `public/sse.php?salon=${salonId}&lastId=${lastId}`
);

evtSource.onmessage = function(event) {
    const msg = JSON.parse(event.data);
    if (event.lastEventId && parseInt(event.lastEventId) > lastId) {
        lastId = parseInt(event.lastEventId);
    }
    appendMessage(msg);
};
            </div>
        </div>

        <!-- Slide 10: S√©curit√© et Performance -->
        <div class="slide print-break">
            <div class="slide-number">10/12</div>
            <h1>S√©curit√© et Optimisations Performance</h1>
            
            <div class="two-column">
                <div>
                    <h2>üõ°Ô∏è Mesures de S√©curit√©</h2>
                    
                    <div class="feature-card">
                        <h4>üîê Authentification</h4>
                        <ul>
                            <li>Hachage bcrypt des mots de passe</li>
                            <li>Sessions PHP s√©curis√©es</li>
                            <li>V√©rification syst√©matique des droits</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card">
                        <h4>üö´ Protection XSS/Injection</h4>
                        <ul>
                            <li>htmlspecialchars() sur toutes les sorties</li>
                            <li>Requ√™tes pr√©par√©es PDO</li>
                            <li>Validation c√¥t√© serveur</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card">
                        <h4>üéØ Contr√¥le d'Acc√®s</h4>
                        <ul>
                            <li>V√©rification d'appartenance aux salons</li>
                            <li>Routes prot√©g√©es par session</li>
                            <li>Expulsion automatique SSE</li>
                        </ul>
                    </div>
                </div>
                <div>
                    <h2>‚ö° Optimisations Performance</h2>
                    
                    <div class="feature-card">
                        <h4>üóÉÔ∏è Base de Donn√©es</h4>
                        <ul>
                            <li>Index sur cl√©s √©trang√®res</li>
                            <li>Requ√™tes optimis√©es avec JOIN</li>
                            <li>Filtrage c√¥t√© serveur (lastId)</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card">
                        <h4>üîÑ SSE Optimis√©</h4>
                        <ul>
                            <li>Polling intelligent (2s timeout)</li>
                            <li>Reconnexion automatique</li>
                            <li>Gestion m√©moire (lib√©ration variables)</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card">
                        <h4>üé® Frontend</h4>
                        <ul>
                            <li>CSS modulaire et optimis√©</li>
                            <li>JavaScript minimal et efficace</li>
                            <li>Scroll automatique intelligent</li>
                        </ul>
                    </div>
                </div>
            </div>

            <h3>üîí Code de S√©curit√© Exemplaire</h3>
            <div class="code-block">
// V√©rification d'appartenance avant SSE
$stmt = $pdo->prepare('SELECT 1 FROM membre WHERE fkU = ? AND fkS = ?');
$stmt->execute([$userId, $salonId]);
if (!$stmt->fetch()) {
    echo "event: kick\ndata: {\"reason\":\"Exclu du salon\"}\n\n";
    return;
}

// Protection XSS dans les vues
echo htmlspecialchars($msg['message']);

// Requ√™tes pr√©par√©es syst√©matiques
$stmt = $db->prepare('INSERT INTO Message (fkU, fkS, message) VALUES (?, ?, ?)');
$stmt->execute([$fkU, $fkS, $message]);
            </div>
        </div>

        <!-- Slide 11: Interface Utilisateur et UX -->
        <div class="slide print-break">
            <div class="slide-number">11/12</div>
            <h1>Interface Utilisateur et Exp√©rience Utilisateur</h1>
            
            <h2>üé® Design System et Coh√©rence</h2>
            <div class="tech-stack">
                <div class="tech-badge">CSS Variables</div>
                <div class="tech-badge">Grid Layout</div>
                <div class="tech-badge">Flexbox</div>
                <div class="tech-badge">Responsive</div>
                <div class="tech-badge">Animations CSS</div>
            </div>

            <div class="feature-grid">
                <div class="feature-card">
                    <h3>üì± Interface Responsive</h3>
                    <ul>
                        <li>Adaptation mobile/desktop</li>
                        <li>Grid CSS moderne</li>
                        <li>Navigation intuitive</li>
                        <li>Touch-friendly</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h3>üéØ UX Optimis√©e</h3>
                    <ul>
                        <li>Feedback visuel imm√©diat</li>
                        <li>Messages d'erreur clairs</li>
                        <li>Navigation fluide</li>
                        <li>Scroll automatique</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h3>‚ö° Performance Frontend</h3>
                    <ul>
                        <li>CSS modulaire (imports)</li>
                        <li>JavaScript optimis√©</li>
                        <li>Chargement conditionnel</li>
                        <li>Gestion m√©moire</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h3>üé® Design Moderne</h3>
                    <ul>
                        <li>Palette de couleurs coh√©rente</li>
                        <li>Typographie soign√©e</li>
                        <li>Espacement harmonieux</li>
                        <li>Micro-interactions</li>
                    </ul>
                </div>
            </div>

            <div class="demo-section">
                <h3>üì∫ D√©monstration en Direct</h3>
                <p style="font-size: 1.3em; margin: 20px 0;">
                    Pr√©sentation des fonctionnalit√©s principales de l'application :
                </p>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin: 20px 0;">
                    <div>‚úÖ Inscription/Connexion</div>
                    <div>‚úÖ Cr√©ation de salon</div>
                    <div>‚úÖ Chat temps r√©el</div>
                    <div>‚úÖ Gestion des membres</div>
                    <div>‚úÖ Panneau admin</div>
                    <div>‚úÖ Interface responsive</div>
                </div>
            </div>
        </div>

        <!-- Slide 11.5: Difficult√©s rencontr√©es -->
        <div class="slide print-break">
            <div class="slide-number">11.5/12</div>
            <h1>Difficult√©s Rencontr√©es</h1>
            <div class="two-column">
                <div>
                    <h2>ü™≤ Bugs techniques</h2>
                    <ul>
                        <li>Gestion des connexions SSE‚ÄØ: apparition de plusieurs connexions simultan√©es, provoquant des doublons de messages.</li>
                        <li>Messages affich√©s en boucle lors des reconnexions automatiques (SSE), n√©cessitant un filtrage c√¥t√© client.</li>
                        <li>Probl√®mes de synchronisation de l‚ÄôID du dernier message (lastId) entre client et serveur.</li>
                        <li>Reconnexions trop fr√©quentes √† cause d‚Äôun timeout mal g√©r√©.</li>
                        <li>Diff√©rences de comportement entre navigateurs (Chrome, Firefox) lors de l‚Äôouverture de plusieurs onglets.</li>
                    </ul>
                </div>
                <div>
                    <h2>üí° Solutions apport√©es</h2>
                    <ul>
                        <li>Fermeture explicite de l‚Äôancienne connexion SSE avant d‚Äôen ouvrir une nouvelle.</li>
                        <li>Ajout d‚Äôun filtrage des doublons c√¥t√© client gr√¢ce √† l‚Äôid du message.</li>
                        <li>Suppression des reconnexions inutiles pour garder une seule connexion active.</li>
                        <li>Tests crois√©s sur plusieurs navigateurs pour garantir la robustesse.</li>
                        <li>Refactorisation du code JavaScript pour une meilleure gestion des √©tats.</li>
                    </ul>
                </div>
            </div>
            <div class="highlight" style="margin-top:30px">
                <b>En r√©sum√© :</b> La gestion du temps r√©el (SSE) a n√©cessit√© de nombreux ajustements pour garantir une exp√©rience fluide et sans doublons, tout en assurant la compatibilit√© multi-navigateurs.
            </div>
        </div>

        <!-- Slide 12: Conclusion et Perspectives -->
        <div class="slide print-break">
            <div class="slide-number">12/12</div>
            <h1>Conclusion et Perspectives d'√âvolution</h1>
            
            <h2>‚úÖ Objectifs Atteints</h2>
            <div class="conclusion-grid">
                <div class="conclusion-card">
                    <h4>üèóÔ∏è Architecture</h4>
                    <p>MVC robuste avec s√©paration claire des responsabilit√©s</p>
                </div>
                <div class="conclusion-card">
                    <h4>‚ö° Temps R√©el</h4>
                    <p>Communication instantan√©e via Server-Sent Events</p>
                </div>
                <div class="conclusion-card">
                    <h4>üõ°Ô∏è S√©curit√©</h4>
                    <p>Authentification, autorisation et protection contre les failles</p>
                </div>
                <div class="conclusion-card">
                    <h4>üë• Collaboration</h4>
                    <p>Syst√®me de salons complet avec gestion des droits</p>
                </div>
            </div>

            <div class="two-column">
                <div>
                    <h3>üöÄ Am√©liorations Futures</h3>
                    <div class="feature-card">
                        <h4>üìà Fonctionnalit√©s Avanc√©es</h4>
                        <ul>
                            <li>Messages priv√©s entre utilisateurs</li>
                            <li>Partage de fichiers et images</li>
                            <li>Notifications push</li>
                            <li>Emoji et r√©actions</li>
                            <li>Mentions et alertes</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card">
                        <h4>üîß Am√©liorations Techniques</h4>
                        <ul>
                            <li>Migration vers WebSockets</li>
                            <li>Cache Redis pour performance</li>
                            <li>API REST pour mobile</li>
                            <li>Tests automatis√©s</li>
                        </ul>
                    </div>
                </div>
                <div>
                    <h3>üìä M√©triques de Succ√®s</h3>
                    <div class="highlight">
                        <ul>
                            <li><strong>Architecture MVC :</strong> 100% respect√©e</li>
                            <li><strong>S√©curit√© :</strong> Aucune faille identifi√©e</li>
                            <li><strong>Performance :</strong> Temps de r√©ponse < 200ms</li>
                            <li><strong>UX :</strong> Interface intuitive et responsive</li>
                            <li><strong>Fonctionnalit√©s :</strong> 100% du cahier des charges</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card">
                        <h4>üéØ Valeur Ajout√©e</h4>
                        <ul>
                            <li>Solution compl√®te et autonome</li>
                            <li>Code maintenable et √©volutif</li>
                            <li>Exp√©rience utilisateur moderne</li>
                            <li>S√©curit√© niveau production</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 40px; padding: 30px; background: linear-gradient(45deg, #667eea, #764ba2); color: white; border-radius: 15px;">
                <h2 style="margin-bottom: 20px;">üôè Merci pour votre attention !</h2>
                <p style="font-size: 1.3em;">Questions et √©changes</p>
                <p style="margin-top: 15px; font-style: italic;">Application de Chat Web - Projet AvengersAssemble</p>
            </div>
        </div>

        <!-- Slide X: Logique de cr√©ation d'un salon -->
        <div class="slide print-break">
            <div class="slide-number">Annexe</div>
            <h1>Logique de Cr√©ation d'un Salon</h1>
            <h2>üõ†Ô∏è √âtapes du processus</h2>
            <ol style="font-size:1.2em;line-height:2;">
                <li>L'utilisateur remplit le formulaire de cr√©ation de salon.</li>
                <li>Le formulaire envoie une requ√™te <b>POST</b> √† <code>index.php?action=createSalon</code>.</li>
                <li>Le contr√¥leur <b>SalonController</b> traite la requ√™te, valide les donn√©es, appelle le service ou mod√®le.</li>
                <li>Le service/mod√®le appelle le <b>DAO</b> pour ins√©rer le salon en base.</li>
                <li>Si succ√®s, l'utilisateur est redirig√© vers la liste des salons.</li>
            </ol>
            <h2>üîó Route et code</h2>
            <div class="code-block">
// index.php
case 'createSalon':
    (new SalonController())->createSalon();
    break;
            </div>
            <div class="code-block">
// SalonController.php
public function createSalon() {
    // ... validation ...
    $id = SalonService::createSalon($nom, $topic, $prive, $_SESSION['user']['pkU']);
    // ... redirection ...
}
            </div>
            <div class="code-block">
// SalonDAO.php
public static function create($nom, $fkU_proprio, $topic = '', $prive = 0) {
    $db = DB::connect();
    $stmt = $db->prepare('INSERT INTO salon (nom, fkU_proprio, topic, prive) VALUES (?, ?, ?, ?)');
    if ($stmt->execute([$nom, $fkU_proprio, $topic, $prive])) {
        return $db->lastInsertId();
    }
    return false;
}
            </div>
            <div class="highlight">
                <b>R√©sum√© :</b> Toute la cha√Æne MVC est mobilis√©e pour cr√©er un salon, de la vue jusqu'√† la base de donn√©es.
            </div>
        </div>
    </div>
</body>
</html>
